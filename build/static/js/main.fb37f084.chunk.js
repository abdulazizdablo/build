(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{162:function(e,t,c){},163:function(e,t,c){},466:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(14),s=c.n(a),i=(c(162),c(163),c(473)),o=c(474),j=c(472),l=c(8),u=c(28),d=c(2);var b=function(){var e=JSON.parse(localStorage.getItem("user-info"));console.warn(e);var t=Object(l.f)();return Object(d.jsx)("div",{children:Object(d.jsxs)(i.a,{bg:"primary",variant:"dark",children:[Object(d.jsx)(i.a.Brand,{href:"#home",children:"E-commerce"}),Object(d.jsx)(o.a,{className:"mr-auto navbar_wrapper",children:localStorage.getItem("user-info")?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.b,{to:"/list",children:" Product List"}),Object(d.jsx)(u.b,{to:"/add",children:"Add Product"}),Object(d.jsx)(u.b,{to:"/update",children:"Update Product"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.b,{to:"/login",children:"Login "}),Object(d.jsx)(u.b,{to:"/register",children:"Register "})]})}),localStorage.getItem("user-info")?Object(d.jsx)(o.a,{children:Object(d.jsx)(j.a,{title:e&&e.name,children:Object(d.jsx)(j.a.Item,{onClick:function(){localStorage.clear(),t.push("/register")},children:"Log out"})})}):null]})})},p=c(16),h=c.n(p),O=c(32),f=c(18);var x=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(l.f)();function u(){return(u=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn(c,i),t=i,n=fetch("https://abdulazizecom.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/son"},body:JSON.stringify(t)}),e.next=5,n.json();case 5:n=e.sent,localStorage.setItem("user-info",JSON.stringify(n)),j.push("/add");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){localStorage.getItem("user-info")&&j.push("/add")}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsx)("h1",{children:"Login Page"}),Object(d.jsxs)("div",{className:"col-sm-6 offset-sm-3",children:[Object(d.jsx)("input",{type:"text",placeholder:"email",onChange:function(e){return r(e.target.value)},className:"form-control"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return o(e.target.value)},className:"form-control"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){return u.apply(this,arguments)},className:"btn btn-primary",children:"Login"})]})]})};c(172);var m=function(){Object(n.useEffect)((function(){localStorage.getItem("user-info")&&m.push("/add")}),[]);var e=Object(n.useState)(""),t=Object(f.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(""),u=Object(f.a)(j,2),p=u[0],x=u[1],m=Object(l.f)();function g(){return(g=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:c,email:p,password:i},console.warn(t),e.next=4,fetch("https://abdulazizecom.herokuapp.com/api/register",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:n=e.sent,localStorage.setItem("user-info",JSON.stringify(n)),m.push("/add");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"col-sm-6 offset-sm-3",children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)},className:"form-control",placeholder:"name"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",value:p,onChange:function(e){return x(e.target.value)},className:"form-control",placeholder:"email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",value:i,onChange:function(e){return o(e.target.value)},className:"form-control",placeholder:"password"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){return g.apply(this,arguments)},className:"btn btn-primary",children:"Sign Up"})]})]})};var g=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(f.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(""),l=Object(f.a)(j,2),u=l[0],p=l[1],x=Object(n.useState)(""),m=Object(f.a)(x,2),g=m[0],v=m[1];function y(){return(y=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn(c,i,u,g),(t=new FormData).append("file",i),t.append("file",u),t.append("file",c),t.append("file",g),e.next=8,fetch("https://abdulazizecom.herokuapp.com/api/addproduct",{method:"POST",body:t});case 8:e.sent,alert("Data has been saved");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"col-sm-6 offset-sm-3",children:[Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"file",className:"form-control",placeholder:"file",onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"price",onChange:function(e){return p(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"description",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return y.apply(this,arguments)},children:"Add Product"}),Object(d.jsx)("br",{})]})]})};var v=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsx)("h1",{children:"    UpdateProduct "})]})};var y=function(e){var t=Object(l.f)(),c=e.Cmp;return Object(n.useEffect)((function(){localStorage.getItem("user-info")||t.push("register")}),[]),Object(d.jsx)("div",{children:Object(d.jsx)(c,{})})},S=c(471);var N=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),c=t[0],r=t[1];function a(e){return s.apply(this,arguments)}function s(){return(s=Object(O.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://abdulazizecom.herokuapp.com/api/delete/"+t,{method:"DELETE"});case 2:return c=e.sent,e.next=5,c.json();case 5:c=e.sent,i();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return o.apply(this,arguments)}function o(){return(o=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://abdulazizecom.herokuapp.com/api/list");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,r(t);case 7:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsx)("h1",{children:"Product List"}),Object(d.jsx)("div",{className:"col-sm-8 offset-sm-3",children:Object(d.jsxs)(S.a,{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Id"}),Object(d.jsx)("td",{children:"Name"}),Object(d.jsx)("td",{children:"Price"}),Object(d.jsx)("td",{children:"Description"}),Object(d.jsx)("td",{children:"Image"}),Object(d.jsx)("td",{children:"Operations"})]}),c.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.price}),Object(d.jsx)("td",{children:e.descrption}),Object(d.jsx)("td",{children:e.file_path}),Object(d.jsx)("td",{children:Object(d.jsx)("img",{style:{width:100},src:"localhost:8000/"+e.file_path})}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{onClick:a(e.id),className:"delete",children:"Delete"})}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{className:"update",children:"Update"})})]})}))]})})]})};var w=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(u.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/login",children:Object(d.jsx)(x,{})}),Object(d.jsx)(l.a,{path:"/register",children:Object(d.jsx)(m,{})}),Object(d.jsxs)(l.a,{path:"/add",children:[Object(d.jsx)(y,{Cmp:g})," "]}),Object(d.jsxs)(l.a,{path:"/update",children:[" ",Object(d.jsx)(y,{Cmp:v}),"  "]}),Object(d.jsxs)(l.a,{path:"/list",children:[" ",Object(d.jsx)(y,{Cmp:N}),"  "]})]})})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,475)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};c(153);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),C()}},[[466,1,2]]]);
//# sourceMappingURL=main.fb37f084.chunk.js.map